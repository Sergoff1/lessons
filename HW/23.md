### Пример 1
Зависит ли наш сервис от СУБД Oracle?

#### Семантика
**Зависимость сборки:**  
Отсутствует. БД разворачивается и работает отдельно от приложения. Есть конечно драйвера для подключения к БД, но кажется, что это отдельная сущность. 
А в этом примере я бы хотел рассмотреть именно базу данных, а не инструменты для взаимодействия с ней.

**Зависимость времени выполнения:**  
Есть. Если БД откажет, то это затронет и наше приложение, так как оно перестанет корректно работать.

**Функциональная зависимость:**  
Есть. При переходе к другой БД мы получим ошибки, так как в коде используются нативные SQL-запросы, в которых применяются специфичные для Oracle конструкции.

#### Ключевые свойства
Надёжность. Если мы потеряем данные, то не сможем нормально предоставлять услуги клиентам.   
Скорость работы. Если БД будет долго обрабатывать отдельные запросы(например составляя плохие планы их выполнения), то можно попасть в ситуацию когда все подключения в пуле будут заняты, что сделает невозможной обработку новых запросов.

#### Пространство допустимых изменений
Допустимо добавлять новые функции, менять подкапотную логику, но должна сохраняться обратная совместимость.

### Пример 2
Есть бэкенд на Java и админка на JS, которая позволяет взаимодействовать с этим бэкендом. 
Два разных проекта, но один использует другой.
Зависит ли админка от проекта?

#### Семантика
**Зависимость сборки:**  
Отсутствует. Проекты разные, написаны на разных языках, собираются по отдельности.

**Зависимость времени выполнения:**  
Есть. Если бэкенд перестанет работать, то мы даже не сможем войти в админку.

**Функциональная зависимость:**  
Есть. Админка тесно связана с API бэкенда и его нельзя просто подменить на другую реализацию.

#### Ключевые свойства
Производительность. Если бэкенд будет долго обрабатывать запросы, то это скажется на админке, так как она будет долго ждать данные для отображения.  
Надёжность. Сломается бэкенд, перестанет работать и фронтенд, так как мы не сможем даже войти в админку.

#### Пространство допустимых изменений
Можно расширять API бэкенда, менять реализацию методов, добавлять новые поля в ответы, главное чтобы сохранялась обратная совместимость.
Чтобы не убирались методы и параметры, которые вызывает/использует админка, а также, чтобы из ответов не исчезали поля, необходимые в админке.  


### Пример 3
Есть приложение автопарка, в котором можно получать информацию о маршрутах автомобилей, данные в БД хранятся в виде координат, 
а пользователь их получает в виде человекочитаемого адреса. Для этого используется обратное геокодирование, API предоставляется сервисом GraphHopper. 
Зависит ли моё приложение автопарка от сервиса маршрутизации и геокодирования GraphHopper?

#### Семантика
**Зависимость сборки:**
Отсутствует. У нас есть библиотека для доступа к API GraphHopper, которая содержит в себе http-клиент и позволяет сосредоточиться на бизнес-логике.
Но кажется, что библиотека для доступа к сервису не является частью этого сервиса. И поэтому на данном уровне зависимости от GraphHopper нет. 

**Зависимость времени выполнения:**
Есть. Если сервис недоступен, то мы не сможем выполнить геокодирование и выдать пользователю данные в читаемом виде.

**Функциональная зависимость:**
Есть. Мы не можем просто заменить сервис на другой и получить тот же функционал, поскольку в коде используется библиотека для работы с одним конкретным сервисом.
Если мы захотим сменить сервис геокодирования, то придётся удалять библиотеку для связи со старым сервисом и добавлять что-то новое.

#### Ключевые свойства
Надёжность. Не будет работать сервис, не сможем вернуть пользователю данные в удобном для восприятия виде.  
Быстродействие. Если сервис будет тормозить, это скажется и на работе нашего приложения.  
Точность геокодирования. Чем лучше и точнее работает преобразование географических точек в адрес, тем удобнее будет нашим пользователям взаимодействовать с приложением автопарка.

#### Пространство допустимых изменений
Допустимо добавлять новые функции, менять реализацию старых. Главное чтобы сохранялась обратная совместимость и имеющееся 
API возвращало те же поля, что и сейчас, а также не избавлялось от входных параметров, которые принимает сейчас. Ну и конечно же не менялись эндпоинты.

### Пример 4
Зависит ли Spring Boot приложение от Prometheus?

#### Семантика
**Зависимость сборки:**
Отсутствует. По умолчанию для сбора метрик в Spring boot используется библиотека Micrometer, которая представляет собой обёртку над различными системами сбора метрик.
То есть у нас есть единый интерфейс для сбора метрик, а конкретная реализация может свободно меняться.  

**Зависимость времени выполнения:**
Больше склоняюсь к тому, что её нет. Если Prometheus откажет, то наше приложение продолжит свою работу. А micrometer продолжит сохраняться метрики в памяти, пока Prometheus не оживёт. 
При этом память не должна переполняться, так как в ней хранится лишь текущее значение метрики, а не история его изменений. 
Однако Prometheus ходит в приложение за метриками, что создаёт некоторую нагрузку и как будто бы говорить что зависимости совсем нет тоже неправильно, хотя нагрузка и не очень велика.  

**Функциональная зависимость:**
Отсутствует. Prometheus можно относительно безболезненно заменить на другую систему сбора метрик, благодаря прослойке в виде Micrometer.

#### Ключевые свойства
От Prometheus зависит observability(не придумал хорошего перевода) сервиса. 
Он позволяет быстро выявлять проблемные ситуации(при условии грамотно подобранных метрик/алертов) и реагировать на них. Кажется, что благодаря этому повышаются надёжность и доступность сервиса.

#### Пространство допустимых изменений
Допустимо менять API, главное чтобы оставалась совместимость с используемой версией библиотеки Micrometer.

### Вывод
В рамках первого занятия по этой теме у меня сформировалось новое понимание зависимости, но данный материал показал, что оно было неверным. 
И всё оказывается несколько сложнее, чем кажется на первый взгляд. Впрочем я чувствовал, что новый материал по зависимостям покажет, что всё не так, как я думаю.
Кажется, я понял основные правила: у зависимости есть несколько характеристик и по одной из них мы можем зависеть от чего-то, а по другой -- нет. 
И грамотнее будет рассуждать о зависимости какой-то конкретной характеристики нашей программы от той или иной сущности.
Думаю, что теперь буду внимательнее изучать зависимости между сущностями, так как теперь понимаю, что они могут проявляться на разных уровнях. 